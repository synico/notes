## 海量数据处理算法

### 布隆过滤器 (Bloom Filter)
一种空间效率很高的随机数据结构,它利用位数组 (Bit Array) 很简洁的表示一个集合,并利用若干个Hash函数判断一个元素是否属于这个集合。它是一个判断元素是否存在集合的快速概率算法。
Bloom Filter可能出现错误判断，但不会漏掉判断。即Bloom Filter判断元素不在集合，则该元素一定不在集合中。但判断元素在集合中，则有可能元素不在集合中。
#### 适用范围
* 实现数据字典
* 进行数据判重
* 集合求交集
#### 基本原理
两个重要组成部分:
* m位的位数组
* k个独立Hash函数

参数|含义
:--|:--
m|bit数组的长度 (bit数)
n|加入到过滤器中元素的数量
k|使用的Hash函数的个数
f|False Positive的比率

#### 算法描述
* 假设Bloom Filter使用一个m比特的数组保存信息。初始状态时，Bloom Filter是一个包含m位的位数组，每一个位置都是0。
* 往Bloom Filter中增加元素x时，使用k个哈希函数得到k个哈希值，每个哈西值的范围为{1,...,m}。然后将数组中对应的比特位设置为1，即第i个哈希函数映射的位置hashi(x)就会被设置为1(1<=i<=k)。如果一个位置多次被置为1，那么仅第一次会起作用。
* 判断元素y是否在Bloom Filter这个集合时，需要用k个哈希函数对y进行哈希散列的到k个哈希值，通过比较所有hashi(y)的值是否为1来判断元素y是否存在该集合。如果k个位置都被设置为1，可认为y是该集合中的预算。

#### 算法缺点
* 无法从Bloom Filter中删除元素，但可用counter数组代替位数组来支持删除元素。
* Hash函数选择会影响算法效果。

#### 重要公式
* `n = m * ln(0.6185)/ln(f)`
* `k = -ln(f)/ln(2)`
